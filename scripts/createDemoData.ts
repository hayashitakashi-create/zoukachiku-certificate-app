/**
 * ä½å®…å€Ÿå…¥é‡‘ç­‰ç‰¹åˆ¥æŽ§é™¤ã®ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * å®Ÿè¡Œæ–¹æ³•: npx tsx scripts/createDemoData.ts
 */

import 'dotenv/config';
import { prisma } from '../src/lib/prisma.js';

async function main() {
  console.log('ðŸš€ ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ä½œæˆã‚’é–‹å§‹ã—ã¾ã™...\n');

  // 1. åŸºæœ¬è¨¼æ˜Žæ›¸ã‚’ä½œæˆ
  const certificate = await prisma.certificate.create({
    data: {
      applicantName: 'å±±ç”°å¤ªéƒŽ',
      applicantAddress: 'æ±äº¬éƒ½æ¸‹è°·åŒºæ¡œä¸˜ç”º1-1-1',
      propertyNumber: '123-4567-8901',
      propertyAddress: 'æ±äº¬éƒ½æ¸‹è°·åŒºæ¡œä¸˜ç”º1-1-1 ãƒžãƒ³ã‚·ãƒ§ãƒ³æ¡œä¸˜101å·å®¤',
      completionDate: new Date('2025-12-20'),
      purposeType: 'housing_loan',
      subsidyAmount: 200000,
      issuerName: 'ä½è—¤å»ºç¯‰å£«',
      issuerOfficeName: 'ä½è—¤å»ºç¯‰è¨­è¨ˆäº‹å‹™æ‰€',
      issuerOrganizationType: 'ä¸€ç´šå»ºç¯‰å£«äº‹å‹™æ‰€',
      issuerQualificationNumber: 'ç¬¬12345å·',
      issueDate: new Date('2026-01-20'),
      status: 'issued',
    },
  });

  console.log('âœ… è¨¼æ˜Žæ›¸ã‚’ä½œæˆã—ã¾ã—ãŸ');
  console.log(`   ID: ${certificate.id}`);
  console.log(`   ç”³è«‹è€…: ${certificate.applicantName}\n`);

  // 2. ä½å®…å€Ÿå…¥é‡‘è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼ˆå…¨ã¦ã®å·¥äº‹ç¨®åˆ¥ã‚’å«ã‚€åŒ…æ‹¬çš„ãªãƒªãƒŽãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
  const housingLoanDetail = await prisma.housingLoanDetail.create({
    data: {
      certificateId: certificate.id,
      workTypes: {
        // ç¬¬1å·å·¥äº‹: å¢—ç¯‰ã€æ”¹ç¯‰ã€å¤§è¦æ¨¡ã®ä¿®ç¹•ã€å¤§è¦æ¨¡ã®æ¨¡æ§˜æ›¿
        work1: {
          extension: true,        // å¢—ç¯‰ï¼ˆãƒãƒ«ã‚³ãƒ‹ãƒ¼ã®æ‹¡å¼µï¼‰
          renovation: false,       // æ”¹ç¯‰
          majorRepair: true,       // å¤§è¦æ¨¡ã®ä¿®ç¹•ï¼ˆå±‹æ ¹ãƒ»å¤–å£ã®å…¨é¢æ”¹ä¿®ï¼‰
          majorRemodeling: false,  // å¤§è¦æ¨¡ã®æ¨¡æ§˜æ›¿
        },
        // ç¬¬2å·å·¥äº‹: åŒºåˆ†æ‰€æœ‰å»ºç‰©ã®éŽåŠã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿
        work2: {
          floorOverHalf: true,      // åºŠã®éŽåŠã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿ï¼ˆãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°å…¨é¢å¼µæ›¿ãˆï¼‰
          stairOverHalf: false,     // éšŽæ®µã®éŽåŠã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿
          partitionOverHalf: true,  // é–“ä»•åˆ‡å£ã®éŽåŠã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿ï¼ˆé–“å–ã‚Šå¤‰æ›´ï¼‰
          wallOverHalf: false,      // å£ã®éŽåŠã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿
        },
        // ç¬¬3å·å·¥äº‹: ä¸€å®¤ã®åºŠåˆã¯å£ã®å…¨éƒ¨ã®ä¿®ç¹•åˆã¯æ¨¡æ§˜æ›¿
        work3: {
          livingRoom: true,   // å±…å®¤ï¼ˆãƒªãƒ“ãƒ³ã‚°ãƒ»ãƒ€ã‚¤ãƒ‹ãƒ³ã‚°ã®åºŠãƒ»å£å…¨é¢æ”¹ä¿®ï¼‰
          kitchen: true,      // èª¿ç†å®¤ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚­ãƒƒãƒãƒ³äº¤æ›ã€åºŠãƒ»å£å…¨é¢æ”¹ä¿®ï¼‰
          bathroom: true,     // æµ´å®¤ï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆãƒã‚¹äº¤æ›ã€åºŠãƒ»å£å…¨é¢æ”¹ä¿®ï¼‰
          toilet: false,      // ä¾¿æ‰€
          washroom: false,    // æ´—é¢æ‰€
          storage: false,     // ç´æˆ¸
          entrance: false,    // çŽ„é–¢
          corridor: false,    // å»Šä¸‹
        },
        // ç¬¬4å·å·¥äº‹: è€éœ‡æ”¹ä¿®å·¥äº‹
        work4: {
          buildingStandard: true,   // å»ºç¯‰åŸºæº–æ³•æ–½è¡Œä»¤ç¬¬3ç« åŠã³ç¬¬5ç« ã®4ã®è¦å®šï¼ˆè€éœ‡å£ã®å¢—è¨­ï¼‰
          earthquakeSafety: false,  // åœ°éœ‡ã«å¯¾ã™ã‚‹å®‰å…¨æ€§ã«ä¿‚ã‚‹åŸºæº–
        },
        // ç¬¬5å·å·¥äº‹: ãƒãƒªã‚¢ãƒ•ãƒªãƒ¼æ”¹ä¿®å·¥äº‹
        work5: {
          pathwayExpansion: true,      // é€šè·¯åˆã¯å‡ºå…¥å£ã®æ‹¡å¹…ï¼ˆå»Šä¸‹å¹…ã®æ‹¡å¼µã€ãƒ‰ã‚¢å¹…ã®æ‹¡å¤§ï¼‰
          stairSlope: false,           // éšŽæ®µã®å‹¾é…ã®ç·©å’Œ
          bathroomImprovement: true,   // æµ´å®¤ã®æ”¹è‰¯ï¼ˆæ‰‹ã™ã‚Šè¨­ç½®ã€æ®µå·®è§£æ¶ˆã€æ»‘ã‚Šæ­¢ã‚åºŠæï¼‰
          toiletImprovement: true,     // ä¾¿æ‰€ã®æ”¹è‰¯ï¼ˆæ‰‹ã™ã‚Šè¨­ç½®ã€ã‚¦ã‚©ã‚·ãƒ¥ãƒ¬ãƒƒãƒˆä»˜ãæ´‹å¼ä¾¿å™¨ã¸ã®äº¤æ›ï¼‰
          handrails: true,             // æ‰‹ã™ã‚Šã®è¨­ç½®ï¼ˆå»Šä¸‹ã€éšŽæ®µã€çŽ„é–¢ï¼‰
          stepElimination: false,      // åºŠã®æ®µå·®ã®è§£æ¶ˆ
          doorImprovement: false,      // å‡ºå…¥å£æˆ¸ã®æ”¹è‰¯
          floorSlipPrevention: false,  // åºŠæã®æ»‘ã‚Šæ”¹è‰¯
        },
        // ç¬¬6å·å·¥äº‹: çœã‚¨ãƒæ”¹ä¿®ç­‰ãã®ä»–ã®å¢—æ”¹ç¯‰ç­‰å·¥äº‹
        work6: {
          energyEfficiency: {
            allWindowsInsulation: true,             // å…¨ã¦ã®çª“ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹ï¼ˆãƒšã‚¢ã‚¬ãƒ©ã‚¹ã‚µãƒƒã‚·ã¸å…¨é¢äº¤æ›ï¼‰
            allRoomsWindowsInsulation: false,       // å…¨ã¦ã®å±…å®¤ã®å…¨ã¦ã®çª“ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹
            allRoomsFloorCeilingInsulation: false,  // å…¨ã¦ã®å±…å®¤ã®åºŠåˆã¯å¤©äº•ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹
            combinedWindowsInsulation: true,        // ä½µã›ã¦è¡Œã†ï¼šå…¨ã¦ã®çª“ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹
            combinedCeilingInsulation: false,       // ä½µã›ã¦è¡Œã†ï¼šå¤©äº•ç­‰ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹
            combinedWallInsulation: true,           // ä½µã›ã¦è¡Œã†ï¼šå£ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹ï¼ˆæ–­ç†±æå……å¡«ï¼‰
            combinedFloorInsulation: false,         // ä½µã›ã¦è¡Œã†ï¼šåºŠç­‰ã®æ–­ç†±æ€§ã‚’é«˜ã‚ã‚‹å·¥äº‹
            region4: true,                          // åœ°åŸŸåŒºåˆ†ï¼š4åœ°åŸŸï¼ˆæ±äº¬éƒ½å¿ƒéƒ¨ï¼‰
            energyGradeBefore: '2',                 // æ”¹ä¿®å‰ã®ä¸€æ¬¡ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¶ˆè²»é‡ç­‰ç´šï¼š2
          },
        },
      },
      workDescription: `ã€(1) å®Ÿæ–½ã—ãŸå·¥äº‹ã®ç¨®åˆ¥ã€‘
ç¬¬1å·å·¥äº‹ï¼šãƒãƒ«ã‚³ãƒ‹ãƒ¼ã®æ‹¡å¼µï¼ˆå¢—ç¯‰3ãŽ¡ï¼‰ã€å±‹æ ¹ãƒ»å¤–å£ã®å…¨é¢æ”¹ä¿®ï¼ˆå¤§è¦æ¨¡ä¿®ç¹•ï¼‰
ç¬¬2å·å·¥äº‹ï¼šå…¨å±…å®¤ã®ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°å…¨é¢å¼µæ›¿ãˆã€é–“å–ã‚Šå¤‰æ›´ã«ä¼´ã†é–“ä»•åˆ‡å£ã®æ’¤åŽ»ãƒ»æ–°è¨­
ç¬¬3å·å·¥äº‹ï¼šãƒªãƒ“ãƒ³ã‚°ãƒ»ãƒ€ã‚¤ãƒ‹ãƒ³ã‚°ã€ã‚­ãƒƒãƒãƒ³ã€æµ´å®¤ã®åºŠãƒ»å£å…¨é¢æ”¹ä¿®
ç¬¬4å·å·¥äº‹ï¼šè€éœ‡å£2ç®‡æ‰€ã®å¢—è¨­ã€æ—¢å­˜å£ã®è€éœ‡è£œå¼·
ç¬¬5å·å·¥äº‹ï¼šå»Šä¸‹ãƒ»çŽ„é–¢ãƒ»éšŽæ®µã®æ‰‹ã™ã‚Šè¨­ç½®ã€æµ´å®¤ãƒ»ä¾¿æ‰€ã®æ”¹è‰¯ã€å‡ºå…¥å£å¹…ã®æ‹¡å¤§
ç¬¬6å·å·¥äº‹ï¼šå…¨çª“ã®ãƒšã‚¢ã‚¬ãƒ©ã‚¹ã‚µãƒƒã‚·ã¸ã®äº¤æ›ã€å¤–å£ãƒ»å¤©äº•ã¸ã®æ–­ç†±æå……å¡«

ã€(2) å®Ÿæ–½ã—ãŸå·¥äº‹ã®å†…å®¹ã€‘
æ˜­å’Œ58å¹´ç¯‰ã®ãƒžãƒ³ã‚·ãƒ§ãƒ³ä½æˆ¸ã«ãŠã‘ã‚‹ç·åˆçš„ãªãƒªãƒŽãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å·¥äº‹ã‚’å®Ÿæ–½ã€‚è€éœ‡æ€§ãƒ»çœã‚¨ãƒæ€§ãƒ»ãƒãƒªã‚¢ãƒ•ãƒªãƒ¼æ€§èƒ½ã®å‘ä¸Šã‚’ç›®çš„ã¨ã—ã€ä»¥ä¸‹ã®å·¥äº‹ã‚’è¡Œã„ã¾ã—ãŸã€‚

ï¼œæ§‹é€ ãƒ»è€éœ‡ï¼žè€éœ‡è¨ºæ–­ã«åŸºã¥ãã€æ–°ãŸã«è€éœ‡å£ã‚’2ç®‡æ‰€å¢—è¨­ã€‚æ—¢å­˜ã®å£ã«ã¤ã„ã¦ã‚‚è€éœ‡è£œå¼·å·¥äº‹ã‚’å®Ÿæ–½ã€‚

ï¼œçœã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼žå…¨ã¦ã®çª“ï¼ˆ10ç®‡æ‰€ï¼‰ã‚’ãƒšã‚¢ã‚¬ãƒ©ã‚¹ï¼ˆLow-Eè¤‡å±¤ã‚¬ãƒ©ã‚¹ï¼‰ã®ã‚µãƒƒã‚·ã«äº¤æ›ã€‚å¤–å£åŠã³å¤©äº•ã«é«˜æ€§èƒ½æ–­ç†±æï¼ˆã‚°ãƒ©ã‚¹ã‚¦ãƒ¼ãƒ«16Kã€åŽšã•100mmï¼‰ã‚’å……å¡«ã—ã€æ–­ç†±ç­‰æ€§èƒ½ç­‰ç´š4ç›¸å½“ã«æ”¹ä¿®ã€‚

ï¼œãƒãƒªã‚¢ãƒ•ãƒªãƒ¼ï¼žå°†æ¥ã®é«˜é½¢åŒ–ã«å‚™ãˆã€å»Šä¸‹ãƒ»éšŽæ®µãƒ»çŽ„é–¢ã«æ‰‹ã™ã‚Šã‚’è¨­ç½®ã€‚æµ´å®¤ã¯æ®µå·®ã‚’è§£æ¶ˆã—æ»‘ã‚Šã«ãã„åºŠæã«å¤‰æ›´ã€Lå­—åž‹æ‰‹ã™ã‚Šã‚’è¨­ç½®ã€‚ä¾¿æ‰€ã¯å’Œå¼ã‹ã‚‰æ´‹å¼ã‚¦ã‚©ã‚·ãƒ¥ãƒ¬ãƒƒãƒˆä»˜ãä¾¿å™¨ã«äº¤æ›ã—ã€æ‰‹ã™ã‚Šã‚’è¨­ç½®ã€‚å»Šä¸‹å¹…ã‚’æ‹¡å¼µï¼ˆæœ‰åŠ¹å¹…780mmâ†’850mmï¼‰ã€å„å®¤ã®å‡ºå…¥å£å¹…ã‚’æ‹¡å¤§ï¼ˆæœ‰åŠ¹å¹…650mmâ†’750mmï¼‰ã€‚

ï¼œå†…è£…ãƒ»è¨­å‚™ï¼žãƒªãƒ“ãƒ³ã‚°ãƒ»ãƒ€ã‚¤ãƒ‹ãƒ³ã‚°ãƒ»å’Œå®¤ã‚’ä¸€ä½“åŒ–ã—ã€LDKåŒ–ã€‚åºŠã¯ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°å…¨é¢å¼µæ›¿ãˆã€å£ãƒ»å¤©äº•ã¯ã‚¯ãƒ­ã‚¹å…¨é¢å¼µæ›¿ãˆã€‚ã‚­ãƒƒãƒãƒ³ã¯æœ€æ–°ã®ã‚·ã‚¹ãƒ†ãƒ ã‚­ãƒƒãƒãƒ³ã«äº¤æ›ã€é£Ÿæ´—æ©Ÿãƒ»IHã‚¯ãƒƒã‚­ãƒ³ã‚°ãƒ’ãƒ¼ã‚¿ãƒ¼ã‚’å°Žå…¥ã€‚æµ´å®¤ã¯ãƒ¦ãƒ‹ãƒƒãƒˆãƒã‚¹ã«äº¤æ›ã—ã€æµ´å®¤æš–æˆ¿ä¹¾ç‡¥æ©Ÿã‚’è¨­ç½®ã€‚`,
      totalCost: 5500000,      // (3)-â‘  å·¥äº‹è²»ç”¨åˆè¨ˆ: 550ä¸‡å††
      hasSubsidy: true,        // è£œåŠ©é‡‘ã‚ã‚Š
      subsidyAmount: 200000,   // (3)-â‘¡ è£œåŠ©é‡‘é¡: 20ä¸‡å††ï¼ˆå¸‚ã®è€éœ‡æ”¹ä¿®è£œåŠ©é‡‘10ä¸‡å†† + çœã‚¨ãƒæ”¹ä¿®è£œåŠ©é‡‘10ä¸‡å††ï¼‰
      deductibleAmount: 5300000, // (3)-â‘¢ æŽ§é™¤å¯¾è±¡é¡: 530ä¸‡å††ï¼ˆ550ä¸‡ - 20ä¸‡ = 530ä¸‡å†† â‰§ 100ä¸‡å††ï¼‰
    },
  });

  console.log('âœ… ä½å®…å€Ÿå…¥é‡‘è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã—ãŸ');
  console.log(`   å·¥äº‹è²»ç”¨åˆè¨ˆ: Â¥${housingLoanDetail.totalCost.toLocaleString()}`);
  console.log(`   è£œåŠ©é‡‘é¡: Â¥${housingLoanDetail.subsidyAmount.toLocaleString()}`);
  console.log(`   æŽ§é™¤å¯¾è±¡é¡: Â¥${housingLoanDetail.deductibleAmount.toLocaleString()}\n`);

  // 3. ã‚‚ã†1ã¤ç°¡å˜ãªãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼ˆç¬¬2å·ãƒ»ç¬¬3å·å·¥äº‹ã®ã¿ï¼‰
  const certificate2 = await prisma.certificate.create({
    data: {
      applicantName: 'éˆ´æœ¨èŠ±å­',
      applicantAddress: 'å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®åŒºé›£æ³¢1-2-3',
      propertyAddress: 'å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®åŒºé›£æ³¢1-2-3 ãƒ‘ãƒ¼ã‚¯ãƒã‚¤ãƒ„é›£æ³¢205å·å®¤',
      completionDate: new Date('2025-11-15'),
      purposeType: 'housing_loan',
      subsidyAmount: 0,
      issuerName: 'ç”°ä¸­å»ºç¯‰å£«',
      issuerOfficeName: 'ç”°ä¸­è¨­è¨ˆäº‹å‹™æ‰€',
      issuerOrganizationType: 'äºŒç´šå»ºç¯‰å£«äº‹å‹™æ‰€',
      issuerQualificationNumber: 'ç¬¬67890å·',
      issueDate: new Date('2026-01-15'),
      status: 'issued',
    },
  });

  const housingLoanDetail2 = await prisma.housingLoanDetail.create({
    data: {
      certificateId: certificate2.id,
      workTypes: {
        // ç¬¬2å·å·¥äº‹ã®ã¿
        work2: {
          floorOverHalf: true,      // åºŠã®éŽåŠã®ä¿®ç¹•ï¼ˆãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°å¼µæ›¿ãˆï¼‰
          stairOverHalf: false,
          partitionOverHalf: false,
          wallOverHalf: true,       // å£ã®éŽåŠã®ä¿®ç¹•ï¼ˆã‚¯ãƒ­ã‚¹ãƒ»å£ç´™ã®å…¨é¢å¼µæ›¿ãˆï¼‰
        },
        // ç¬¬3å·å·¥äº‹ã®ã¿
        work3: {
          livingRoom: true,   // å±…å®¤ï¼ˆç•³ã‹ã‚‰ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã¸å¤‰æ›´ã€å£ãƒ»å¤©äº•ã‚¯ãƒ­ã‚¹å¼µæ›¿ãˆï¼‰
          kitchen: true,      // èª¿ç†å®¤ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚­ãƒƒãƒãƒ³äº¤æ›ã€åºŠãƒ»å£æ”¹ä¿®ï¼‰
          bathroom: false,
          toilet: true,       // ä¾¿æ‰€ï¼ˆæ´‹å¼ä¾¿å™¨ã¸ã®äº¤æ›ã€åºŠãƒ»å£ã‚¿ã‚¤ãƒ«å¼µæ›¿ãˆï¼‰
          washroom: false,
          storage: false,
          entrance: false,
          corridor: false,
        },
      },
      workDescription: `ã€(1) å®Ÿæ–½ã—ãŸå·¥äº‹ã®ç¨®åˆ¥ã€‘
ç¬¬2å·å·¥äº‹ï¼šå…¨å±…å®¤ã®åºŠã®éŽåŠã®ä¿®ç¹•ï¼ˆãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°å¼µæ›¿ãˆï¼‰ã€å£ã®éŽåŠã®ä¿®ç¹•ï¼ˆã‚¯ãƒ­ã‚¹å…¨é¢å¼µæ›¿ãˆï¼‰
ç¬¬3å·å·¥äº‹ï¼šå±…å®¤ï¼ˆå’Œå®¤ã‚’ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã¸å¤‰æ›´ï¼‰ã€ã‚­ãƒƒãƒãƒ³ï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚­ãƒƒãƒãƒ³äº¤æ›ï¼‰ã€ä¾¿æ‰€ï¼ˆå’Œå¼ã‹ã‚‰æ´‹å¼ã¸äº¤æ›ï¼‰ã®åºŠãƒ»å£å…¨é¢æ”¹ä¿®

ã€(2) å®Ÿæ–½ã—ãŸå·¥äº‹ã®å†…å®¹ã€‘
ç¯‰25å¹´ã®åˆ†è­²ãƒžãƒ³ã‚·ãƒ§ãƒ³ï¼ˆ3LDKã€å°‚æœ‰é¢ç©70ãŽ¡ï¼‰ã«ãŠã‘ã‚‹å†…è£…ãƒªãƒ•ã‚©ãƒ¼ãƒ å·¥äº‹ã‚’å®Ÿæ–½ã€‚

ï¼œåºŠå·¥äº‹ï¼žå…¨å±…å®¤ï¼ˆãƒªãƒ“ãƒ³ã‚°ã€å’Œå®¤2å®¤ï¼‰ã®åºŠã‚’éŽåŠã«ã‚ãŸã‚Šæ”¹ä¿®ã€‚å’Œå®¤ã¯ç•³ã‚’æ’¤åŽ»ã—ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã«å¤‰æ›´ã€‚ãƒªãƒ“ãƒ³ã‚°ã¯æ—¢å­˜ã®ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚’å‰¥ãŒã—ã€é˜²éŸ³æ€§ã®é«˜ã„æ–°ã—ã„ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°æï¼ˆåŽšã•12mmã€é®éŸ³ç­‰ç´šLL-45ç›¸å½“ï¼‰ã«å¼µæ›¿ãˆã€‚æ–½å·¥é¢ç©ï¼šç´„45ãŽ¡ï¼ˆå°‚æœ‰é¢ç©ã®64%ï¼‰

ï¼œå£å·¥äº‹ï¼žå…¨å±…å®¤ã®å£ã‚’éŽåŠã«ã‚ãŸã‚Šæ”¹ä¿®ã€‚æ—¢å­˜ã®ãƒ“ãƒ‹ãƒ«ã‚¯ãƒ­ã‚¹ã‚’å‰¥ãŒã—ã€é˜²ã‚«ãƒ“ãƒ»æŠ—èŒæ©Ÿèƒ½ä»˜ãã®æ–°ã—ã„ã‚¯ãƒ­ã‚¹ã«å…¨é¢å¼µæ›¿ãˆã€‚ä¸€éƒ¨å£ã«ä¸‹åœ°è£œä¿®ã‚‚å®Ÿæ–½ã€‚æ–½å·¥é¢ç©ï¼šç´„120ãŽ¡ï¼ˆå£é¢ç©ã®78%ï¼‰

ï¼œã‚­ãƒƒãƒãƒ³ï¼žã‚·ã‚¹ãƒ†ãƒ ã‚­ãƒƒãƒãƒ³ã‚’æœ€æ–°åž‹ã«äº¤æ›ï¼ˆå¹…2550mmã€3å£ã‚¬ã‚¹ã‚³ãƒ³ãƒ­ã€ãƒ¬ãƒ³ã‚¸ãƒ•ãƒ¼ãƒ‰ã€ã‚·ãƒ³ã‚¯å«ã‚€ï¼‰ã€‚ã‚­ãƒƒãƒãƒ³åºŠï¼ˆç´„4ãŽ¡ï¼‰ã‚’ãƒ•ãƒ­ã‚¢ã‚¿ã‚¤ãƒ«å¼µæ›¿ãˆã€å£ï¼ˆç´„8ãŽ¡ï¼‰ã‚’ã‚­ãƒƒãƒãƒ³ãƒ‘ãƒãƒ«è¨­ç½®ã€‚

ï¼œä¾¿æ‰€ï¼žå’Œå¼ä¾¿å™¨ã‚’æ´‹å¼ã‚¦ã‚©ã‚·ãƒ¥ãƒ¬ãƒƒãƒˆä»˜ãä¾¿å™¨ã«äº¤æ›ã€‚åºŠã‚’å…¨é¢çš„ã«ã‚¯ãƒƒã‚·ãƒ§ãƒ³ãƒ•ãƒ­ã‚¢å¼µæ›¿ãˆï¼ˆç´„1.5ãŽ¡ï¼‰ã€å£ã‚’å…¨é¢çš„ã«ã‚¿ã‚¤ãƒ«å¼µæ›¿ãˆï¼ˆç´„5ãŽ¡ï¼‰ã€‚`,
      totalCost: 2800000,      // (3)-â‘  å·¥äº‹è²»ç”¨åˆè¨ˆ: 280ä¸‡å††
      hasSubsidy: false,       // è£œåŠ©é‡‘ãªã—
      subsidyAmount: 0,        // (3)-â‘¡ è£œåŠ©é‡‘é¡: 0å††
      deductibleAmount: 2800000, // (3)-â‘¢ æŽ§é™¤å¯¾è±¡é¡: 280ä¸‡å††ï¼ˆ280ä¸‡ - 0ä¸‡ = 280ä¸‡å†† â‰§ 100ä¸‡å††ï¼‰
    },
  });

  console.log('âœ… 2ã¤ç›®ã®è¨¼æ˜Žæ›¸ã‚’ä½œæˆã—ã¾ã—ãŸ');
  console.log(`   ID: ${certificate2.id}`);
  console.log(`   ç”³è«‹è€…: ${certificate2.applicantName}`);
  console.log(`   æŽ§é™¤å¯¾è±¡é¡: Â¥${housingLoanDetail2.deductibleAmount.toLocaleString()}\n`);

  console.log('ðŸŽ‰ ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼');
  console.log('\nðŸ“‹ ä½œæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿:');
  console.log(`   1. ${certificate.applicantName}æ§˜ã®è¨¼æ˜Žæ›¸ (ID: ${certificate.id})`);
  console.log(`   2. ${certificate2.applicantName}æ§˜ã®è¨¼æ˜Žæ›¸ (ID: ${certificate2.id})`);
  console.log('\nðŸ’¡ ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèªã§ãã¾ã™');
}

main()
  .catch((e) => {
    console.error('âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
