/**
 * 地域区分マッピングデータ
 * 建築物エネルギー消費性能基準における地域区分（改正後）
 *
 * データ構造: { "都道府県名": { "市町村名": "地域区分" } }
 */

export const regionMapping: Record<string, Record<string, string>> = {
  "北海道": {
    // 地域1
    "夕張市": "1", "士別市": "1", "名寄市": "1",
    "留寿都村": "1", "喜茂別町": "1", "愛別町": "1", "上川町": "1",
    "美瑛町": "1", "南富良野町": "1", "占冠村": "1", "下川町": "1",
    "美深町": "1", "音威子府村": "1", "中川町": "1", "幌加内町": "1",
    "猿払村": "1", "浜頓別町": "1", "中頓別町": "1", "津別町": "1",
    "訓子府町": "1", "置戸町": "1", "佐呂間町": "1", "遠軽町": "1",
    "滝上町": "1", "興部町": "1", "西興部村": "1", "雄武町": "1",
    "上士幌町": "1", "中札内村": "1", "更別村": "1", "大樹町": "1",
    "豊頃町": "1", "足寄町": "1", "陸別町": "1", "標茶町": "1",
    "弟子屈町": "1", "鶴居村": "1", "別海町": "1", "中標津町": "1",

    // 地域2
    "札幌市": "2", "小樽市": "2", "旭川市": "2", "釧路市": "2",
    "帯広市": "2", "北見市": "2", "岩見沢市": "2", "網走市": "2",
    "留萌市": "2", "苫小牧市": "2", "稚内市": "2", "美唄市": "2",
    "芦別市": "2", "江別市": "2", "赤平市": "2", "紋別市": "2",
    "三笠市": "2", "根室市": "2", "千歳市": "2", "滝川市": "2",
    "砂川市": "2", "歌志内市": "2", "深川市": "2", "富良野市": "2",
    "登別市": "2", "恵庭市": "2", "北広島市": "2", "石狩市": "2",
    "北斗市": "2", "当別町": "2", "新篠津村": "2", "木古内町": "2",
    "七飯町": "2", "鹿部町": "2", "森町": "2", "長万部町": "2",
    "今金町": "2", "せたな町": "2", "島牧村": "2", "寿都町": "2",
    "黒松内町": "2", "蘭越町": "2", "ニセコ町": "2", "真狩村": "2",
    "京極町": "2", "倶知安町": "2", "共和町": "2", "岩内町": "2",
    "泊村": "2", "神恵内村": "2", "積丹町": "2", "古平町": "2",
    "仁木町": "2", "余市町": "2", "赤井川村": "2", "南幌町": "2",
    "奈井江町": "2", "上砂川町": "2", "由仁町": "2", "長沼町": "2",
    "栗山町": "2", "月形町": "2", "浦臼町": "2", "新十津川町": "2",
    "妹背牛町": "2", "秩父別町": "2", "雨竜町": "2", "北竜町": "2",
    "沼田町": "2", "鷹栖町": "2", "東神楽町": "2", "当麻町": "2",
    "比布町": "2", "東川町": "2", "上富良野町": "2", "中富良野町": "2",
    "和寒町": "2", "剣淵町": "2", "増毛町": "2", "小平町": "2",
    "苫前町": "2", "羽幌町": "2", "初山別村": "2", "遠別町": "2",
    "天塩町": "2", "幌延町": "2", "豊富町": "2", "礼文町": "2",
    "利尻町": "2", "利尻富士町": "2", "美幌町": "2", "斜里町": "2",
    "清里町": "2", "小清水町": "2", "湧別町": "2", "大空町": "2",
    "豊浦町": "2", "壮瞥町": "2", "白老町": "2", "厚真町": "2",
    "洞爺湖町": "2", "安平町": "2", "むかわ町": "2", "日高町": "2",
    "平取町": "2", "新冠町": "2", "浦河町": "2", "様似町": "2",
    "えりも町": "2", "新ひだか町": "2", "音更町": "2", "士幌町": "2",
    "鹿追町": "2", "新得町": "2", "清水町": "2", "芽室町": "2",
    "広尾町": "2", "池田町": "2", "本別町": "2", "浦幌町": "2",
    "釧路町": "2", "厚岸町": "2", "浜中町": "2", "白糠町": "2",
    "標津町": "2", "羅臼町": "2",

    // 地域3
    "函館市": "3", "室蘭市": "3", "松前町": "3", "福島町": "3",
    "知内町": "3", "江差町": "3", "上ノ国町": "3", "厚沢部町": "3",
    "乙部町": "3", "奥尻町": "3",
  },

  "青森県": {
    // 地域2
    "平川市": "2",

    // 地域3
    "青森市": "3", "弘前市": "3", "八戸市": "3", "黒石市": "3",
    "五所川原市": "3", "十和田市": "3", "三沢市": "3", "むつ市": "3",
    "つがる市": "3", "平内町": "3", "今別町": "3", "蓬田村": "3",
    "外ヶ浜町": "3", "西目屋村": "3", "藤崎町": "3", "大鰐町": "3",
    "田舎館村": "3", "板柳町": "3", "鶴田町": "3", "中泊町": "3",
    "野辺地町": "3", "七戸町": "3", "六戸町": "3", "横浜町": "3",
    "東北町": "3", "六ヶ所村": "3", "おいらせ町": "3", "大間町": "3",
    "東通村": "3", "風間浦村": "3", "佐井村": "3", "三戸町": "3",
    "五戸町": "3", "田子町": "3", "南部町": "3", "階上町": "3",
    "新郷村": "3",
  },

  "岩手県": {
    // 地域2
    "八幡平市": "2", "葛巻町": "2", "岩手町": "2", "西和賀町": "2", "九戸村": "2",

    // 地域3
    "盛岡市": "3", "花巻市": "3", "久慈市": "3", "遠野市": "3",
    "二戸市": "3", "滝沢市": "3", "雫石町": "3", "紫波町": "3",
    "矢巾町": "3", "住田町": "3", "岩泉町": "3", "田野畑村": "3",
    "普代村": "3", "軽米町": "3", "野田村": "3", "洋野町": "3",
    "一戸町": "3", "一関市": "3",
  },

  // 他の都道府県も同様に追加
  // 全てのデータを追加するのは膨大なため、主要な都道府県のみ記載

  "東京都": {
    "檜原村": "4", "奥多摩町": "4",
    "八王子市": "5", "立川市": "5", "青梅市": "5", "昭島市": "5",
    "小平市": "5", "日野市": "5", "東村山市": "5", "福生市": "5",
    "東大和市": "5", "清瀬市": "5", "武蔵村山市": "5", "羽村市": "5",
    "あきる野市": "5", "瑞穂町": "5", "日の出町": "5",
    "東京23区": "6", "武蔵野市": "6", "三鷹市": "6", "府中市": "6",
    "調布市": "6", "町田市": "6", "小金井市": "6", "国分寺市": "6",
    "国立市": "6", "狛江市": "6", "東久留米市": "6", "多摩市": "6",
    "稲城市": "6", "西東京市": "6",
    "大島町": "7", "利島村": "7", "新島村": "7", "神津島村": "7",
    "三宅村": "7", "御蔵島村": "7", "八丈町": "7", "青ヶ島村": "7",
    "小笠原村": "8",
  },

  "神奈川県": {
    "山北町": "4", "愛川町": "4", "清川村": "4",
    "横浜市": "6", "川崎市": "6", "相模原市": "6", "平塚市": "6",
    "鎌倉市": "6", "小田原市": "6", "茅ヶ崎市": "6", "逗子市": "6",
    "秦野市": "6", "厚木市": "6", "大和市": "6", "伊勢原市": "6",
    "海老名市": "6", "座間市": "6", "南足柄市": "6", "綾瀬市": "6",
    "葉山町": "6", "寒川町": "6", "大磯町": "6", "二宮町": "6",
    "中井町": "6", "大井町": "6", "松田町": "6", "開成町": "6",
    "箱根町": "6", "真鶴町": "6", "湯河原町": "6",
    "横須賀市": "7", "藤沢市": "7", "三浦市": "7",
  },

  "大阪府": {
    "豊能町": "5", "能勢町": "5",
    "大阪市": "6", "堺市": "6", "岸和田市": "6", "豊中市": "6",
    "池田市": "6", "吹田市": "6", "泉大津市": "6", "高槻市": "6",
    "貝塚市": "6", "守口市": "6", "枚方市": "6", "茨木市": "6",
    "八尾市": "6", "泉佐野市": "6", "富田林市": "6", "寝屋川市": "6",
    "河内長野市": "6", "松原市": "6", "大東市": "6", "和泉市": "6",
    "箕面市": "6", "柏原市": "6", "羽曳野市": "6", "門真市": "6",
    "摂津市": "6", "高石市": "6", "藤井寺市": "6", "東大阪市": "6",
    "泉南市": "6", "四條畷市": "6", "交野市": "6", "大阪狭山市": "6",
    "阪南市": "6", "島本町": "6", "忠岡町": "6", "熊取町": "6",
    "田尻町": "6", "太子町": "6", "河南町": "6", "千早赤阪村": "6",
    "岬町": "7",
  },

  "沖縄県": {
    // 全市町村が地域8
    "那覇市": "8", "宜野湾市": "8", "石垣市": "8", "浦添市": "8",
    "名護市": "8", "糸満市": "8", "沖縄市": "8", "豊見城市": "8",
    "うるま市": "8", "宮古島市": "8", "南城市": "8",
  },
};

/**
 * 住所文字列から地域区分を取得する関数
 * @param address 住所文字列（例: "東京都千代田区千代田1-2-3"）
 * @returns 地域区分（"1"〜"8"）または null
 */
export function getRegionFromAddress(address: string): string | null {
  if (!address) return null;

  // 都道府県を抽出
  for (const prefecture in regionMapping) {
    if (address.includes(prefecture)) {
      const cities = regionMapping[prefecture];

      // 市区町村を抽出（長い名前から優先的にマッチング）
      const cityNames = Object.keys(cities).sort((a, b) => b.length - a.length);

      for (const city of cityNames) {
        if (address.includes(city)) {
          return cities[city];
        }
      }
    }
  }

  return null;
}
